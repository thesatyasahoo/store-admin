import{j as e,e as ee,r as g,S as K,d as C}from"./index-BUQt_S_c.js";import{a as se}from"./index.prod-BEjSpvbU.js";import{C as ae,A as X,P as te,M as re,T as Y}from"./ParentCategory-BeUclyOp.js";import{r as N}from"./httpService-uWXOLvWw.js";import{C as J}from"./CurrencyServices-BDmFbRo0.js";import{L as le}from"./SelectLanguageTwo-D8KQQ7nM.js";import{P as oe}from"./ProductServices-CdtPkdki.js";import{n as S,a as I}from"./toast-B24hAPOx.js";import{R as ne}from"./index-DFn5PJ-I.js";import{a as ie,T as ce}from"./DrawerButton-DLbzv2UI.js";import{u as de,j as pe,l as ge}from"./Layout-BiELlH3O.js";import{u as me,E as T}from"./index.esm-OMRnTKYx.js";import{L as n}from"./LabelArea-CcrHcR7F.js";import{S as P}from"./SwitchToggle-BRpQr13G.js";const Q={addCoupon:async t=>N.post("/coupon/add",t),addAllCoupon:async t=>N.post("/coupon/add/all",t),getAllCoupons:async()=>N.get("/coupon"),getCouponById:async t=>N.get(`/coupon/${t}`),updateCoupon:async(t,r)=>N.put(`/coupon/${t}`,r),updateManyCoupons:async t=>N.patch("/coupon/update/many",t),updateStatus:async(t,r)=>N.put(`/coupon/status/${t}`,r),deleteCoupon:async t=>N.delete(`/coupon/${t}`),deleteManyCoupons:async t=>N.patch("/coupon/delete/many",t)},De=({id:t,name:r,type:y,handleClick:u,isChecked:i})=>e.jsx(e.Fragment,{children:e.jsx("input",{id:t,name:r,type:y,onChange:u,checked:i})}),Ee=({id:t,status:r,category:y,currencyStatusName:u})=>{const i=ee(),{setIsUpdate:d}=g.useContext(K),m=async p=>{var k,D;try{let a;if(r==="show"?a="hide":a="show",i.pathname==="/categories"||y){const l=await ae.updateStatus(p,{status:a});d(!0),S(l.message)}if(i.pathname==="/products"){const l=await oe.updateStatus(p,{status:a});d(!0),S(l.message)}if(i.pathname==="/languages"){const l=await le.updateStatus(p,{status:a});d(!0),S(l.message)}if(i.pathname==="/currencies")if(u==="status"){const l=await J.updateEnabledStatus(p,{status:a});d(!0),S(l.message)}else{const l=await J.updateLiveExchangeRateStatus(p,{live_exchange_rates:a});d(!0),S(l.message)}if(i.pathname==="/attributes"){const l=await X.updateStatus(p,{status:a});d(!0),S(l.message)}if(i.pathname===`/attributes/${i.pathname.split("/")[2]}`){const l=await X.updateChildStatus(p,{status:a});d(!0),S(l.message)}if(i.pathname==="/coupons"){const l=await Q.updateStatus(p,{status:a});d(!0),S(l.message)}if(i.pathname==="/our-staff"){const l=await Q.updateStaffStatus(p,{status:a});d(!0),S(l.message)}}catch(a){I(a?(D=(k=a==null?void 0:a.response)==null?void 0:k.data)==null?void 0:D.message:a==null?void 0:a.message)}};return e.jsx(se,{onChange:()=>m(t),checked:r==="show",className:"react-switch md:ml-0",uncheckedIcon:e.jsx("div",{style:{display:"flex",alignItems:"center",height:"100%",width:120,fontSize:14,color:"white",paddingRight:22,paddingTop:1}}),width:30,height:15,handleDiameter:13,offColor:"#E53E3E",onColor:"#2F855A",checkedIcon:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:73,height:"100%",fontSize:14,color:"white",paddingLeft:20,paddingTop:1}})})},Z=({register:t,name:r,label:y,placeholder:u,required:i,type:d,value:m})=>e.jsx(e.Fragment,{children:e.jsx(C.Textarea,{className:"border text-sm border-gray-200 focus:border-gray-300 block w-full bg-gray-100",...t(`${r}`,{required:i?`${y} is required!`:!1}),type:d,placeholder:u,name:r,value:m,rows:"4",spellCheck:"false"})}),ue=(t,r="en",y)=>{const[u,i]=g.useState(""),[d,m]=g.useState([]);ee();const[p,k]=g.useState(""),[D,a]=g.useState(!0),[l,L]=g.useState(!0),[b,x]=g.useState([]),[R,j]=g.useState([]),[F,V]=g.useState(!1),[q,z]=g.useState(""),{isBulkDrawerOpen:f,closeBulkDrawer:$,setIsUpdate:G}=g.useContext(K),{register:H,handleSubmit:O,watch:w,setValue:c,clearErrors:o,formState:{errors:E}}=me(),_=async M=>I("This feature is disabled for demo!");return g.useEffect(()=>{if(!f){c("parent"),c("children"),c("type"),c("show"),c("name"),i(""),m([]),o("parent"),o("children"),o("type"),o("name"),c("name"),c("iso_code"),c("call_prefix"),c("currency"),c("zone"),o("name"),o("iso_code"),o("call_prefix"),o("currency"),o("zone"),o("status"),c("name"),c("iso_code"),c("country"),c("zone"),c("description"),o("name"),o("iso_code"),o("country"),o("zone"),o("status"),o("show"),o("description"),j([]),x([]);return}},[c,f,o]),g.useEffect(()=>{i(w("children"))},[w,u]),{register:H,watch:w,handleSubmit:O,onSubmit:_,errors:E,tag:d,setTag:m,published:D,setPublished:a,published2:l,setPublished2:L,checked:p,setChecked:k,selectedCategory:b,setSelectedCategory:x,defaultCategory:R,setDefaultCategory:j,selectCategoryName:q,setSelectCategoryName:z,isFoodItem:F,setIsFoodItem:V}},Ae=({ids:t,title:r,lang:y,data:u,childId:i,attributes:d,isCheck:m})=>{const{toggleBulkDrawer:p,isBulkDrawerOpen:k,closeBulkDrawer:D}=g.useContext(K),{showingTranslateValue:a}=de(),{tag:l,setTag:L,published:b,register:x,onSubmit:R,errors:j,checked:F,setChecked:V,resetRefTwo:q,handleSubmit:z,setPublished:f,selectedCategory:$,setSelectedCategory:G,defaultCategory:H,setDefaultCategory:O,selectCategoryName:w,setSelectCategoryName:c}=ue(t,y),o={motionName:"node-motion",motionAppear:!1,onAppearStart:s=>({height:0}),onAppearActive:s=>({height:s.scrollHeight}),onLeaveStart:s=>({height:s.offsetHeight}),onLeaveActive:()=>({height:0})},E=s=>{let v=[];for(let h of s)v.push({title:a(h==null?void 0:h.name),key:h._id,children:h.children.length>0&&E(h.children)});return v},_=(s,v)=>{var h;return s._id===v?s:(h=s==null?void 0:s.children)==null?void 0:h.reduce((B,A)=>B??_(A,v),void 0)},M=s=>{var h,B;const v=m==null?void 0:m.find(A=>A===s);if((m==null?void 0:m.length)===((B=(h=u[0])==null?void 0:h.children)==null?void 0:B.length))return I("This can't be select as a parent category!");if(v!==void 0)return I("This can't be select as a parent category!");if(s===i)return I("This can't be select as a parent category!");{if(s===void 0)return;V(s);const A=u[0],U=_(A,s);c(a(U==null?void 0:U.name))}},W=`
  .rc-tree-child-tree {
    display: hidden;
  }
  .node-motion {
    transition: all .3s;
    overflow-y: hidden;
  }
`;return e.jsx(e.Fragment,{children:e.jsxs(ie,{open:k,onClose:D,parent:null,level:null,placement:"right",children:[e.jsx("button",{onClick:p,className:"absolute z-50 text-red-500 hover:bg-red-100 hover:text-gray-700 transition-colors duration-150 bg-white shadow-md mr-6 mt-6 right-0 left-auto w-10 h-10 rounded-full block text-center",children:e.jsx(pe,{className:"mx-auto"})}),e.jsxs("div",{className:"flex flex-col w-full h-full justify-between",children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsx(ce,{title:`Update Selected ${r}`,description:`Apply changes to the selected ${r} from the list`})}),e.jsx(ge.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsxs("form",{onSubmit:z(R),className:"block",children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:[r==="Products"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Categorys"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(te,{lang:y,selectedCategory:$,setSelectedCategory:G,setDefaultCategory:O})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Default Category"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(re,{displayValue:"name",isObject:!0,singleSelect:!0,ref:q,hidePlaceholder:!0,onKeyPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:s=>O(s),selectedValues:H,options:$,placeholder:"Default Category"})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Published"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(P,{handleProcess:f,processOption:b}),e.jsx(T,{errorName:j.status})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Product Tags"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(ne,{placeholder:"Product Tag (Write then press enter to add new tag )",tags:l,onChange:s=>L(s)})})]})]}),r==="Coupons"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Start Time"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(C.Input,{...x("startTime",{required:"Coupon Validation Start Time"}),label:"Coupon Validation Start Time",name:"startTime",type:"datetime-local",placeholder:"Start Time"}),e.jsx(T,{errorName:j.startTime})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"End Time"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(C.Input,{...x("endTime",{required:"Coupon Validation End Time"}),label:"Coupon Validation End Time",name:"endTime",type:"datetime-local",placeholder:"End Time"}),e.jsx(T,{errorName:j.endTime})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Published"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(P,{handleProcess:f,processOption:b}),e.jsx(T,{errorName:j.published})]})]})]}),r==="Languages"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(P,{title:"",processOption:b,handleProcess:f})})]})}),r==="Currencies"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Enabled"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(P,{title:"",processOption:b,handleProcess:f})})]})}),r==="Categories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Description"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(Z,{register:x,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),e.jsx(T,{errorName:j.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Parent Category"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(C.Input,{readOnly:!0,...x("parent",{required:!1}),name:"parent",value:w||"Home",placeholder:"parent category",type:"text"}),e.jsxs("div",{className:"draggable-demo capitalize",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:W}}),e.jsx(Y,{treeData:E(u),selectedKeys:[F],onSelect:s=>M(s[0]),motion:o,animation:"slide-up"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(P,{title:"",processOption:b,handleProcess:f})})]})]}),r==="Child Categories"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Description"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(Z,{register:x,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),e.jsx(T,{errorName:j.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Parent Category"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(C.Input,{readOnly:!0,...x("parent",{required:!1}),name:"parent",value:w||"Home",placeholder:"parent category",type:"text"}),e.jsxs("div",{className:"draggable-demo capitalize",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:W}}),e.jsx(Y,{treeData:E(u),selectedKeys:[F],onSelect:s=>M(s[0]),motion:o,animation:"slide-up"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(P,{title:"",processOption:b,handleProcess:f})})]})]}),r==="Attributes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Options"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsxs(C.Select,{name:"option",...x("option",{required:"Option is required!"}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:"Select type"}),e.jsx("option",{value:"Dropdown",children:"Dropdown"}),e.jsx("option",{value:"Radio",children:"Radio"})]}),e.jsx(T,{errorName:j.option})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(P,{title:"",processOption:b,handleProcess:f})})]})]}),r==="Attribute Value(s)"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Change Attribute Group"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsxs(C.Select,{name:"groupName",...x("groupName",{required:!1}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:"Select Attribute Group"}),d==null?void 0:d.map((s,v)=>e.jsx("option",{value:s._id,children:a(s==null?void 0:s.name)},v+1))]}),e.jsx(T,{errorName:j.groupName})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Published"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(P,{title:"",processOption:b,handleProcess:f})})]})]})]}),e.jsxs("div",{className:"fixed bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(C.Button,{onClick:p,className:" text-red-500 hover:bg-red-50 hover:border-red-100 hover:text-red-600 dark:bg-gray-700 dark:border-gray-700 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-red-700",layout:"outline",children:"Cancel"})}),e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsxs(C.Button,{type:"submit",className:"h-12 w-full",children:[" ","Bulk Update ",r]})})]})]})})]})]})})};export{Ae as B,De as C,Ee as S,Z as T,Q as a};

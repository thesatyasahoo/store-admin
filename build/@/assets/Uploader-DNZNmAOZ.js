import{P as _,r as p,h as en,K as tn,j as C,t as At}from"./index-BUQt_S_c.js";import{a as rn}from"./httpService-uWXOLvWw.js";import{a as ae,b as oe,c as kt,d as xt}from"./tslib.es6-BgFQhbLt.js";import{t as Dr,n as nn,s as an}from"./Layout-BiELlH3O.js";import{u as on}from"./useAsync-uOlh5qiN.js";import{a as re,n as un}from"./toast-B24hAPOx.js";import{g as sn}from"./vendor-BzEnyBH3.js";import{$ as cn}from"./index-DGmkQahL.js";var ln=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function de(e,t){var r=fn(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function fn(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),i=ln.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var dn=[".DS_Store","Thumbs.db"];function gn(e){return ae(this,void 0,void 0,function(){return oe(this,function(t){return Ee(e)&&pn(e.dataTransfer)?[2,mn(e.dataTransfer,e.type)]:vn(e)?[2,hn(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,yn(e)]:[2,[]]})})}function pn(e){return Ee(e)}function vn(e){return Ee(e)&&Ee(e.target)}function Ee(e){return typeof e=="object"&&e!==null}function hn(e){return et(e.target.files).map(function(t){return de(t)})}function yn(e){return ae(this,void 0,void 0,function(){var t;return oe(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return de(n)})]}})})}function mn(e,t){return ae(this,void 0,void 0,function(){var r,n;return oe(this,function(i){switch(i.label){case 0:return e.items?(r=et(e.items).filter(function(a){return a.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(bn))]):[3,2];case 1:return n=i.sent(),[2,Rt(Or(n))];case 2:return[2,Rt(et(e.files).map(function(a){return de(a)}))]}})})}function Rt(e){return e.filter(function(t){return dn.indexOf(t.name)===-1})}function et(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function bn(e){if(typeof e.webkitGetAsEntry!="function")return $t(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Sr(t):$t(e)}function Or(e){return e.reduce(function(t,r){return kt(kt([],xt(t),!1),xt(Array.isArray(r)?Or(r):[r]),!1)},[])}function $t(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=de(t);return Promise.resolve(r)}function Dn(e){return ae(this,void 0,void 0,function(){return oe(this,function(t){return[2,e.isDirectory?Sr(e):On(e)]})})}function Sr(e){var t=e.createReader();return new Promise(function(r,n){var i=[];function a(){var o=this;t.readEntries(function(u){return ae(o,void 0,void 0,function(){var s,f,g;return oe(this,function(v){switch(v.label){case 0:if(u.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return s=v.sent(),r(s),[3,4];case 3:return f=v.sent(),n(f),[3,4];case 4:return[3,6];case 5:g=Promise.all(u.map(Dn)),i.push(g),a(),v.label=6;case 6:return[2]}})})},function(u){n(u)})}a()})}function On(e){return ae(this,void 0,void 0,function(){return oe(this,function(t){return[2,new Promise(function(r,n){e.file(function(i){var a=de(i,e.fullPath);r(a)},function(i){n(i)})})]})})}var Sn=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return r.some(function(o){var u=o.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?a===u.replace(/\/.*$/,""):i===u})}return!0};function Mt(e){return Cn(e)||wn(e)||wr(e)||Tn()}function Tn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cn(e){if(Array.isArray(e))return tt(e)}function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nt(Object(r),!0).forEach(function(n){Tr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){return _n(e)||En(e,t)||wr(e,t)||In()}function In(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wr(e,t){if(e){if(typeof e=="string")return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tt(e,t)}}function tt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function En(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function _n(e){if(Array.isArray(e))return e}var Pn="file-invalid-type",An="file-too-large",kn="file-too-small",xn="too-many-files",Rn=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Pn,message:"File type must be ".concat(r)}},Ft=function(t){return{code:An,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Lt=function(t){return{code:kn,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},$n={code:xn,message:"Too many files"};function Cr(e,t){var r=e.type==="application/x-moz-file"||Sn(e,t);return[r,r?null:Rn(t)]}function Ir(e,t,r){if(V(e.size))if(V(t)&&V(r)){if(e.size>r)return[!1,Ft(r)];if(e.size<t)return[!1,Lt(t)]}else{if(V(t)&&e.size<t)return[!1,Lt(t)];if(V(r)&&e.size>r)return[!1,Ft(r)]}return[!0,null]}function V(e){return e!=null}function Mn(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles,u=e.validator;return!a&&t.length>1||a&&o>=1&&t.length>o?!1:t.every(function(s){var f=Cr(s,r),g=fe(f,1),v=g[0],O=Ir(s,n,i),S=fe(O,1),E=S[0],R=u?u(s):null;return v&&E&&!R})}function _e(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function be(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ht(e){e.preventDefault()}function Nn(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function jn(e){return e.indexOf("Edge/")!==-1}function Fn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Nn(e)||jn(e)}function G(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return t.some(function(u){return!_e(n)&&u&&u.apply(void 0,[n].concat(a)),_e(n)})}}function Ln(){return"showOpenFilePicker"in window}function Hn(e){if(V(e)){var t=Object.entries(e).filter(function(r){var n=fe(r,2),i=n[0],a=n[1],o=!0;return Er(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(_r))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(r,n){var i=fe(n,2),a=i[0],o=i[1];return jt(jt({},r),{},Tr({},a,o))},{});return[{description:"Files",accept:t}]}return e}function zn(e){if(V(e))return Object.entries(e).reduce(function(t,r){var n=fe(r,2),i=n[0],a=n[1];return[].concat(Mt(t),[i],Mt(a))},[]).filter(function(t){return Er(t)||_r(t)}).join(",")}function Un(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function qn(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Er(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function _r(e){return/^.*\.[\w]+$/.test(e)}var Wn=["children"],Bn=["open"],Kn=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Gn=["refKey","onChange","onClick"];function Yn(e){return Qn(e)||Vn(e)||Pr(e)||Xn()}function Xn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qn(e){if(Array.isArray(e))return rt(e)}function Ke(e,t){return ei(e)||Zn(e,t)||Pr(e,t)||Jn()}function Jn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pr(e,t){if(e){if(typeof e=="string")return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rt(e,t)}}function rt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function ei(e){if(Array.isArray(e))return e}function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zt(Object(r),!0).forEach(function(n){nt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,t){if(e==null)return{};var r=ti(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ti(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var dt=p.forwardRef(function(e,t){var r=e.children,n=Pe(e,Wn),i=kr(n),a=i.open,o=Pe(i,Bn);return p.useImperativeHandle(t,function(){return{open:a}},[a]),en.createElement(p.Fragment,null,r(k(k({},o),{},{open:a})))});dt.displayName="Dropzone";var Ar={disabled:!1,getFilesFromEvent:gn,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};dt.defaultProps=Ar;dt.propTypes={children:_.func,accept:_.objectOf(_.arrayOf(_.string)),multiple:_.bool,preventDropOnDocument:_.bool,noClick:_.bool,noKeyboard:_.bool,noDrag:_.bool,noDragEventsBubbling:_.bool,minSize:_.number,maxSize:_.number,maxFiles:_.number,disabled:_.bool,getFilesFromEvent:_.func,onFileDialogCancel:_.func,onFileDialogOpen:_.func,useFsAccessApi:_.bool,autoFocus:_.bool,onDragEnter:_.func,onDragLeave:_.func,onDragOver:_.func,onDrop:_.func,onDropAccepted:_.func,onDropRejected:_.func,onError:_.func,validator:_.func};var it={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function kr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=k(k({},Ar),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,u=t.multiple,s=t.maxFiles,f=t.onDragEnter,g=t.onDragLeave,v=t.onDragOver,O=t.onDrop,S=t.onDropAccepted,E=t.onDropRejected,R=t.onFileDialogCancel,b=t.onFileDialogOpen,I=t.useFsAccessApi,x=t.autoFocus,P=t.preventDropOnDocument,A=t.noClick,H=t.noKeyboard,U=t.noDrag,c=t.noDragEventsBubbling,l=t.onError,m=t.validator,T=p.useMemo(function(){return zn(r)},[r]),w=p.useMemo(function(){return Hn(r)},[r]),$=p.useMemo(function(){return typeof b=="function"?b:Ut},[b]),M=p.useMemo(function(){return typeof R=="function"?R:Ut},[R]),j=p.useRef(null),F=p.useRef(null),Ne=p.useReducer(ri,it),bt=Ke(Ne,2),je=bt[0],q=bt[1],Xr=je.isFocused,Dt=je.isFileDialogActive,ge=p.useRef(typeof window<"u"&&window.isSecureContext&&I&&Ln()),Ot=function(){!ge.current&&Dt&&setTimeout(function(){if(F.current){var h=F.current.files;h.length||(q({type:"closeDialog"}),M())}},300)};p.useEffect(function(){return window.addEventListener("focus",Ot,!1),function(){window.removeEventListener("focus",Ot,!1)}},[F,Dt,M,ge]);var J=p.useRef([]),St=function(h){j.current&&j.current.contains(h.target)||(h.preventDefault(),J.current=[])};p.useEffect(function(){return P&&(document.addEventListener("dragover",Ht,!1),document.addEventListener("drop",St,!1)),function(){P&&(document.removeEventListener("dragover",Ht),document.removeEventListener("drop",St))}},[j,P]),p.useEffect(function(){return!n&&x&&j.current&&j.current.focus(),function(){}},[j,x,n]);var X=p.useCallback(function(d){l?l(d):console.error(d)},[l]),Tt=p.useCallback(function(d){d.preventDefault(),d.persist(),ye(d),J.current=[].concat(Yn(J.current),[d.target]),be(d)&&Promise.resolve(i(d)).then(function(h){if(!(_e(d)&&!c)){var N=h.length,L=N>0&&Mn({files:h,accept:T,minSize:o,maxSize:a,multiple:u,maxFiles:s,validator:m}),W=N>0&&!L;q({isDragAccept:L,isDragReject:W,isDragActive:!0,type:"setDraggedFiles"}),f&&f(d)}}).catch(function(h){return X(h)})},[i,f,X,c,T,o,a,u,s,m]),wt=p.useCallback(function(d){d.preventDefault(),d.persist(),ye(d);var h=be(d);if(h&&d.dataTransfer)try{d.dataTransfer.dropEffect="copy"}catch{}return h&&v&&v(d),!1},[v,c]),Ct=p.useCallback(function(d){d.preventDefault(),d.persist(),ye(d);var h=J.current.filter(function(L){return j.current&&j.current.contains(L)}),N=h.indexOf(d.target);N!==-1&&h.splice(N,1),J.current=h,!(h.length>0)&&(q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),be(d)&&g&&g(d))},[j,g,c]),pe=p.useCallback(function(d,h){var N=[],L=[];d.forEach(function(W){var se=Cr(W,T),te=Ke(se,2),Le=te[0],He=te[1],ze=Ir(W,o,a),me=Ke(ze,2),Ue=me[0],qe=me[1],We=m?m(W):null;if(Le&&Ue&&!We)N.push(W);else{var Be=[He,qe];We&&(Be=Be.concat(We)),L.push({file:W,errors:Be.filter(function(Zr){return Zr})})}}),(!u&&N.length>1||u&&s>=1&&N.length>s)&&(N.forEach(function(W){L.push({file:W,errors:[$n]})}),N.splice(0)),q({acceptedFiles:N,fileRejections:L,type:"setFiles"}),O&&O(N,L,h),L.length>0&&E&&E(L,h),N.length>0&&S&&S(N,h)},[q,u,T,o,a,s,O,S,E,m]),ve=p.useCallback(function(d){d.preventDefault(),d.persist(),ye(d),J.current=[],be(d)&&Promise.resolve(i(d)).then(function(h){_e(d)&&!c||pe(h,d)}).catch(function(h){return X(h)}),q({type:"reset"})},[i,pe,X,c]),Z=p.useCallback(function(){if(ge.current){q({type:"openDialog"}),$();var d={multiple:u,types:w};window.showOpenFilePicker(d).then(function(h){return i(h)}).then(function(h){pe(h,null),q({type:"closeDialog"})}).catch(function(h){Un(h)?(M(h),q({type:"closeDialog"})):qn(h)?(ge.current=!1,F.current?(F.current.value=null,F.current.click()):X(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):X(h)});return}F.current&&(q({type:"openDialog"}),$(),F.current.value=null,F.current.click())},[q,$,M,I,pe,X,w,u]),It=p.useCallback(function(d){!j.current||!j.current.isEqualNode(d.target)||(d.key===" "||d.key==="Enter"||d.keyCode===32||d.keyCode===13)&&(d.preventDefault(),Z())},[j,Z]),Et=p.useCallback(function(){q({type:"focus"})},[]),_t=p.useCallback(function(){q({type:"blur"})},[]),Pt=p.useCallback(function(){A||(Fn()?setTimeout(Z,0):Z())},[A,Z]),ee=function(h){return n?null:h},Fe=function(h){return H?null:ee(h)},he=function(h){return U?null:ee(h)},ye=function(h){c&&h.stopPropagation()},Vr=p.useMemo(function(){return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.refKey,N=h===void 0?"ref":h,L=d.role,W=d.onKeyDown,se=d.onFocus,te=d.onBlur,Le=d.onClick,He=d.onDragEnter,ze=d.onDragOver,me=d.onDragLeave,Ue=d.onDrop,qe=Pe(d,Kn);return k(k(nt({onKeyDown:Fe(G(W,It)),onFocus:Fe(G(se,Et)),onBlur:Fe(G(te,_t)),onClick:ee(G(Le,Pt)),onDragEnter:he(G(He,Tt)),onDragOver:he(G(ze,wt)),onDragLeave:he(G(me,Ct)),onDrop:he(G(Ue,ve)),role:typeof L=="string"&&L!==""?L:"presentation"},N,j),!n&&!H?{tabIndex:0}:{}),qe)}},[j,It,Et,_t,Pt,Tt,wt,Ct,ve,H,U,n]),Qr=p.useCallback(function(d){d.stopPropagation()},[]),Jr=p.useMemo(function(){return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.refKey,N=h===void 0?"ref":h,L=d.onChange,W=d.onClick,se=Pe(d,Gn),te=nt({accept:T,multiple:u,type:"file",style:{display:"none"},onChange:ee(G(L,ve)),onClick:ee(G(W,Qr)),tabIndex:-1},N,F);return k(k({},te),se)}},[F,r,u,ve,n]);return k(k({},je),{},{isFocused:Xr&&!n,getRootProps:Vr,getInputProps:Jr,rootRef:j,inputRef:F,open:ee(Z)})}function ri(e,t){switch(t.type){case"focus":return k(k({},e),{},{isFocused:!0});case"blur":return k(k({},e),{},{isFocused:!1});case"openDialog":return k(k({},it),{},{isFileDialogActive:!0});case"closeDialog":return k(k({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return k(k({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return k(k({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return k({},it);default:return e}}function Ut(){}var xr=p.createContext({dragDropManager:void 0}),K;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(K||(K={}));function y(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(!e){var a;if(t===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;a=new Error(t.replace(/%s/g,function(){return n[o++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}var gt="dnd-core/INIT_COORDS",ke="dnd-core/BEGIN_DRAG",pt="dnd-core/PUBLISH_DRAG_SOURCE",xe="dnd-core/HOVER",Re="dnd-core/DROP",$e="dnd-core/END_DRAG";function qt(e,t){return{type:gt,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function Se(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Se=function(r){return typeof r}:Se=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Se(e)}function ni(e,t,r){return t.split(".").reduce(function(n,i){return n&&n[i]?n[i]:r||null},e)}function ii(e,t){return e.filter(function(r){return r!==t})}function Rr(e){return Se(e)==="object"}function ai(e,t){var r=new Map,n=function(o){r.set(o,r.has(o)?r.get(o)+1:1)};e.forEach(n),t.forEach(n);var i=[];return r.forEach(function(a,o){a===1&&i.push(o)}),i}function oi(e,t){return e.filter(function(r){return t.indexOf(r)>-1})}var ui={type:gt,payload:{clientOffset:null,sourceClientOffset:null}};function si(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=n.publishSource,a=i===void 0?!0:i,o=n.clientOffset,u=n.getSourceClientOffset,s=e.getMonitor(),f=e.getRegistry();e.dispatch(qt(o)),ci(r,s,f);var g=di(r,s);if(g===null){e.dispatch(ui);return}var v=null;if(o){if(!u)throw new Error("getSourceClientOffset must be defined");li(u),v=u(g)}e.dispatch(qt(o,v));var O=f.getSource(g),S=O.beginDrag(s,g);if(S!=null){fi(S),f.pinSource(g);var E=f.getSourceType(g);return{type:ke,payload:{itemType:E,item:S,sourceId:g,clientOffset:o||null,sourceClientOffset:v||null,isSourcePublic:!!a}}}}}function ci(e,t,r){y(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){y(r.getSource(n),"Expected sourceIds to be registered.")})}function li(e){y(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function fi(e){y(Rr(e),"Item must be an object.")}function di(e,t){for(var r=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function gi(e){return function(){var r=e.getMonitor();if(r.isDragging())return{type:pt}}}function at(e,t){return t===null?e===null:Array.isArray(e)?e.some(function(r){return r===t}):e===t}function pi(e){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.clientOffset;vi(r);var a=r.slice(0),o=e.getMonitor(),u=e.getRegistry();hi(a,o,u);var s=o.getItemType();return yi(a,u,s),mi(a,o,u),{type:xe,payload:{targetIds:a,clientOffset:i||null}}}}function vi(e){y(Array.isArray(e),"Expected targetIds to be an array.")}function hi(e,t,r){y(t.isDragging(),"Cannot call hover while not dragging."),y(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var i=e[n];y(e.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");var a=r.getTarget(i);y(a,"Expected targetIds to be registered.")}}function yi(e,t,r){for(var n=e.length-1;n>=0;n--){var i=e[n],a=t.getTargetType(i);at(a,r)||e.splice(n,1)}}function mi(e,t,r){e.forEach(function(n){var i=r.getTarget(n);i.hover(t,n)})}function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wt(Object(r),!0).forEach(function(n){bi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Di(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getMonitor(),i=e.getRegistry();Oi(n);var a=wi(n);a.forEach(function(o,u){var s=Si(o,u,i,n),f={type:Re,payload:{dropResult:Bt(Bt({},r),s)}};e.dispatch(f)})}}function Oi(e){y(e.isDragging(),"Cannot call drop while not dragging."),y(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Si(e,t,r,n){var i=r.getTarget(e),a=i?i.drop(n,e):void 0;return Ti(a),typeof a>"u"&&(a=t===0?{}:n.getDropResult()),a}function Ti(e){y(typeof e>"u"||Rr(e),"Drop result must either be an object or undefined.")}function wi(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Ci(e){return function(){var r=e.getMonitor(),n=e.getRegistry();Ii(r);var i=r.getSourceId();if(i!=null){var a=n.getSource(i,!0);a.endDrag(r,i),n.unpinSource()}return{type:$e}}}function Ii(e){y(e.isDragging(),"Cannot call endDrag while not dragging.")}function Ei(e){return{beginDrag:si(e),publishDragSource:gi(e),hover:pi(e),drop:Di(e),endDrag:Ci(e)}}function _i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ai(e,t,r){return t&&Pi(e.prototype,t),e}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ki=function(){function e(t,r){var n=this;_i(this,e),ce(this,"store",void 0),ce(this,"monitor",void 0),ce(this,"backend",void 0),ce(this,"isSetUp",!1),ce(this,"handleRefCountChange",function(){var i=n.store.getState().refCount>0;n.backend&&(i&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!i&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))}),this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}return Ai(e,[{key:"receiveBackend",value:function(r){this.backend=r}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var r=this,n=this.store.dispatch;function i(o){return function(){for(var u=arguments.length,s=new Array(u),f=0;f<u;f++)s[f]=arguments[f];var g=o.apply(r,s);typeof g<"u"&&n(g)}}var a=Ei(this);return Object.keys(a).reduce(function(o,u){var s=a[u];return o[u]=i(s),o},{})}},{key:"dispatch",value:function(r){this.store.dispatch(r)}}]),e}(),xi=function(t,r){return t===r};function Ri(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function $i(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xi;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function Kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kt(Object(r),!0).forEach(function(n){Mi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ni(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case gt:case ke:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case xe:return Ri(e.clientOffset,r.clientOffset)?e:Gt(Gt({},e),{},{clientOffset:r.clientOffset});case $e:case Re:return Yt;default:return e}}var vt="dnd-core/ADD_SOURCE",ht="dnd-core/ADD_TARGET",yt="dnd-core/REMOVE_SOURCE",Me="dnd-core/REMOVE_TARGET";function ji(e){return{type:vt,payload:{sourceId:e}}}function Fi(e){return{type:ht,payload:{targetId:e}}}function Li(e){return{type:yt,payload:{sourceId:e}}}function Hi(e){return{type:Me,payload:{targetId:e}}}function Xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xt(Object(r),!0).forEach(function(n){zi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ui={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function qi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ui,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case ke:return B(B({},e),{},{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case pt:return B(B({},e),{},{isSourcePublic:!0});case xe:return B(B({},e),{},{targetIds:r.targetIds});case Me:return e.targetIds.indexOf(r.targetId)===-1?e:B(B({},e),{},{targetIds:ii(e.targetIds,r.targetId)});case Re:return B(B({},e),{},{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case $e:return B(B({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Wi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:case ht:return e+1;case yt:case Me:return e-1;default:return e}}var Ae=[],mt=[];Ae.__IS_NONE__=!0;mt.__IS_ALL__=!0;function Bi(e,t){if(e===Ae)return!1;if(e===mt||typeof t>"u")return!0;var r=oi(t,e);return r.length>0}function Ki(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case xe:break;case vt:case ht:case Me:case yt:return Ae;case ke:case pt:case $e:case Re:default:return mt}var t=e.payload,r=t.targetIds,n=r===void 0?[]:r,i=t.prevTargetIds,a=i===void 0?[]:i,o=ai(n,a),u=o.length>0||!$i(n,a);if(!u)return Ae;var s=a[a.length-1],f=n[n.length-1];return s!==f&&(s&&o.push(s),f&&o.push(f)),o}function Gi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vt(Object(r),!0).forEach(function(n){Yi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Ki(e.dirtyHandlerIds,{type:t.type,payload:Qt(Qt({},t.payload),{},{prevTargetIds:ni(e,"dragOperation.targetIds",[])})}),dragOffset:Ni(e.dragOffset,t),refCount:Wi(e.refCount,t),dragOperation:qi(e.dragOperation,t),stateId:Gi(e.stateId)}}function Vi(e,t){return{x:e.x+t.x,y:e.y+t.y}}function $r(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qi(e){var t=e.clientOffset,r=e.initialClientOffset,n=e.initialSourceClientOffset;return!t||!r||!n?null:$r(Vi(t,n),r)}function Ji(e){var t=e.clientOffset,r=e.initialClientOffset;return!t||!r?null:$r(t,r)}function Zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ta(e,t,r){return t&&ea(e.prototype,t),e}function Jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ra=function(){function e(t,r){Zi(this,e),Jt(this,"store",void 0),Jt(this,"registry",void 0),this.store=t,this.registry=r}return ta(e,[{key:"subscribeToStateChange",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},a=i.handlerIds;y(typeof r=="function","listener must be a function."),y(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,u=function(){var f=n.store.getState(),g=f.stateId;try{var v=g===o||g===o+1&&!Bi(f.dirtyHandlerIds,a);v||r()}finally{o=g}};return this.store.subscribe(u)}},{key:"subscribeToOffsetChange",value:function(r){var n=this;y(typeof r=="function","listener must be a function.");var i=this.store.getState().dragOffset,a=function(){var u=n.store.getState().dragOffset;u!==i&&(i=u,r())};return this.store.subscribe(a)}},{key:"canDragSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r);return y(n,"Expected to find a valid source. sourceId=".concat(r)),this.isDragging()?!1:n.canDrag(this,r)}},{key:"canDropOnTarget",value:function(r){if(!r)return!1;var n=this.registry.getTarget(r);if(y(n,"Expected to find a valid target. targetId=".concat(r)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(r),a=this.getItemType();return at(i,a)&&n.canDrop(this,r)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r,!0);if(y(n,"Expected to find a valid source. sourceId=".concat(r)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(r),a=this.getItemType();return i!==a?!1:n.isDragging(this,r)}},{key:"isOverTarget",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!r)return!1;var i=n.shallow;if(!this.isDragging())return!1;var a=this.registry.getTargetType(r),o=this.getItemType();if(o&&!at(a,o))return!1;var u=this.getTargetIds();if(!u.length)return!1;var s=u.indexOf(r);return i?s===u.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return Qi(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return Ji(this.store.getState().dragOffset)}}]),e}(),na=0;function ia(){return na++}function Te(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Te=function(r){return typeof r}:Te=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Te(e)}function aa(e){y(typeof e.canDrag=="function","Expected canDrag to be a function."),y(typeof e.beginDrag=="function","Expected beginDrag to be a function."),y(typeof e.endDrag=="function","Expected endDrag to be a function.")}function oa(e){y(typeof e.canDrop=="function","Expected canDrop to be a function."),y(typeof e.hover=="function","Expected hover to be a function."),y(typeof e.drop=="function","Expected beginDrag to be a function.")}function ot(e,t){if(t&&Array.isArray(e)){e.forEach(function(r){return ot(r,!1)});return}y(typeof e=="string"||Te(e)==="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const Zt=typeof global<"u"?global:self,Mr=Zt.MutationObserver||Zt.WebKitMutationObserver;function Nr(e){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),e()}}}function ua(e){let t=1;const r=new Mr(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const sa=typeof Mr=="function"?ua:Nr;class ca{enqueueTask(t){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,i=t.length-this.index;n<i;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=sa(this.flush),this.requestErrorThrow=Nr(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class la{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}}class fa{create(t){const r=this.freeTasks,n=r.length?r.pop():new la(this.onError,i=>r[r.length]=i);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const jr=new ca,da=new fa(jr.registerPendingError);function ga(e){jr.enqueueTask(da.create(e))}function pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function va(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ha(e,t,r){return t&&va(e.prototype,t),e}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ya(e,t){return Oa(e)||Da(e,t)||ba(e,t)||ma()}function ma(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ba(e,t){if(e){if(typeof e=="string")return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}}function er(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Da(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function Oa(e){if(Array.isArray(e))return e}function Sa(e){var t=ia().toString();switch(e){case K.SOURCE:return"S".concat(t);case K.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function tr(e){switch(e[0]){case"S":return K.SOURCE;case"T":return K.TARGET;default:y(!1,"Cannot parse handler ID: ".concat(e))}}function rr(e,t){var r=e.entries(),n=!1;do{var i=r.next(),a=i.done,o=ya(i.value,2),u=o[1];if(u===t)return!0;n=!!a}while(!n);return!1}var Ta=function(){function e(t){pa(this,e),ne(this,"types",new Map),ne(this,"dragSources",new Map),ne(this,"dropTargets",new Map),ne(this,"pinnedSourceId",null),ne(this,"pinnedSource",null),ne(this,"store",void 0),this.store=t}return ha(e,[{key:"addSource",value:function(r,n){ot(r),aa(n);var i=this.addHandler(K.SOURCE,r,n);return this.store.dispatch(ji(i)),i}},{key:"addTarget",value:function(r,n){ot(r,!0),oa(n);var i=this.addHandler(K.TARGET,r,n);return this.store.dispatch(Fi(i)),i}},{key:"containsHandler",value:function(r){return rr(this.dragSources,r)||rr(this.dropTargets,r)}},{key:"getSource",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;y(this.isSourceId(r),"Expected a valid source ID.");var i=n&&r===this.pinnedSourceId,a=i?this.pinnedSource:this.dragSources.get(r);return a}},{key:"getTarget",value:function(r){return y(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}},{key:"getSourceType",value:function(r){return y(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}},{key:"getTargetType",value:function(r){return y(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}},{key:"isSourceId",value:function(r){var n=tr(r);return n===K.SOURCE}},{key:"isTargetId",value:function(r){var n=tr(r);return n===K.TARGET}},{key:"removeSource",value:function(r){var n=this;y(this.getSource(r),"Expected an existing source."),this.store.dispatch(Li(r)),ga(function(){n.dragSources.delete(r),n.types.delete(r)})}},{key:"removeTarget",value:function(r){y(this.getTarget(r),"Expected an existing target."),this.store.dispatch(Hi(r)),this.dropTargets.delete(r),this.types.delete(r)}},{key:"pinSource",value:function(r){var n=this.getSource(r);y(n,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=n}},{key:"unpinSource",value:function(){y(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(r,n,i){var a=Sa(r);return this.types.set(a,n),r===K.SOURCE?this.dragSources.set(a,i):r===K.TARGET&&this.dropTargets.set(a,i),a}}]),e}();function wa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=Ca(n),a=new ra(i,new Ta(i)),o=new ki(i,a),u=e(o,t,r);return o.receiveBackend(u),o}function Ca(e){var t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return tn(Xi,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Ia=["children"];function Ea(e,t){return ka(e)||Aa(e,t)||Pa(e,t)||_a()}function _a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pa(e,t){if(e){if(typeof e=="string")return nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nr(e,t)}}function nr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aa(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function ka(e){if(Array.isArray(e))return e}function xa(e,t){if(e==null)return{};var r=Ra(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ra(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ir=0,we=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),$a=p.memo(function(t){var r=t.children,n=xa(t,Ia),i=Ma(n),a=Ea(i,2),o=a[0],u=a[1];return p.useEffect(function(){if(u){var s=Fr();return++ir,function(){--ir===0&&(s[we]=null)}}},[]),C.jsx(xr.Provider,Object.assign({value:o},{children:r}),void 0)});function Ma(e){if("manager"in e){var t={dragDropManager:e.manager};return[t,!1]}var r=Na(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[r,n]}function Na(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fr(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=t;return i[we]||(i[we]={dragDropManager:wa(e,t,r,n)}),i[we]}function Fr(){return typeof global<"u"?global:window}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function La(e,t,r){return t&&Fa(e.prototype,t),e}function ar(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ge=!1,Ye=!1,Ha=function(){function e(t){ja(this,e),ar(this,"internalMonitor",void 0),ar(this,"sourceId",null),this.internalMonitor=t.getMonitor()}return La(e,[{key:"receiveHandlerId",value:function(r){this.sourceId=r}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){y(!Ge,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ge=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ge=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;y(!Ye,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ye=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ye=!1}}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"isDraggingSource",value:function(r){return this.internalMonitor.isDraggingSource(r)}},{key:"isOverTarget",value:function(r,n){return this.internalMonitor.isOverTarget(r,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(r){return this.internalMonitor.subscribeToOffsetChange(r)}},{key:"canDragSource",value:function(r){return this.internalMonitor.canDragSource(r)}},{key:"canDropOnTarget",value:function(r){return this.internalMonitor.canDropOnTarget(r)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ua(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qa(e,t,r){return t&&Ua(e.prototype,t),e}function or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xe=!1,Wa=function(){function e(t){za(this,e),or(this,"internalMonitor",void 0),or(this,"targetId",null),this.internalMonitor=t.getMonitor()}return qa(e,[{key:"receiveHandlerId",value:function(r){this.targetId=r}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;y(!Xe,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Xe=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Xe=!1}}},{key:"isOver",value:function(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function Ba(e){if(typeof e.type!="string"){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function Ka(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!p.isValidElement(t)){var n=t;return e(n,r),n}var i=t;Ba(i);var a=r?function(o){return e(o,r)}:e;return Ga(i,a)}}function Lr(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{var i=Ka(n);t[r]=function(){return i}}}),t}function ur(e,t){typeof e=="function"?e(t):e.current=t}function Ga(e,t){var r=e.ref;return y(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?p.cloneElement(e,{ref:function(i){ur(r,i),ur(t,i)}}):p.cloneElement(e,{ref:t})}function Ce(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ce=function(r){return typeof r}:Ce=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ce(e)}function ut(e){return e!==null&&Ce(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function st(e,t,r,n){var i=void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var f=a[s];if(!u(f))return!1;var g=e[f],v=t[f];if(i=void 0,i===!1||i===void 0&&g!==v)return!1}return!0}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Va(e,t,r){return t&&Xa(e.prototype,t),e}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qa=function(){function e(t){var r=this;Ya(this,e),z(this,"hooks",Lr({dragSource:function(i,a){r.clearDragSource(),r.dragSourceOptions=a||null,ut(i)?r.dragSourceRef=i:r.dragSourceNode=i,r.reconnectDragSource()},dragPreview:function(i,a){r.clearDragPreview(),r.dragPreviewOptions=a||null,ut(i)?r.dragPreviewRef=i:r.dragPreviewNode=i,r.reconnectDragPreview()}})),z(this,"handlerId",null),z(this,"dragSourceRef",null),z(this,"dragSourceNode",void 0),z(this,"dragSourceOptionsInternal",null),z(this,"dragSourceUnsubscribe",void 0),z(this,"dragPreviewRef",null),z(this,"dragPreviewNode",void 0),z(this,"dragPreviewOptionsInternal",null),z(this,"dragPreviewUnsubscribe",void 0),z(this,"lastConnectedHandlerId",null),z(this,"lastConnectedDragSource",null),z(this,"lastConnectedDragSourceOptions",null),z(this,"lastConnectedDragPreview",null),z(this,"lastConnectedDragPreviewOptions",null),z(this,"backend",void 0),this.backend=t}return Va(e,[{key:"receiveHandlerId",value:function(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(r){this.dragSourceOptionsInternal=r}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(r){this.dragPreviewOptionsInternal=r}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var r=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(n&&this.disconnectDragSource(),!!this.handlerId){if(!r){this.lastConnectedDragSource=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var r=this.dragPreview,n=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!st(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!st(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}();function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Za(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eo(e,t,r){return t&&Za(e.prototype,t),e}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var to=function(){function e(t){var r=this;Ja(this,e),Y(this,"hooks",Lr({dropTarget:function(i,a){r.clearDropTarget(),r.dropTargetOptions=a,ut(i)?r.dropTargetRef=i:r.dropTargetNode=i,r.reconnect()}})),Y(this,"handlerId",null),Y(this,"dropTargetRef",null),Y(this,"dropTargetNode",void 0),Y(this,"dropTargetOptionsInternal",null),Y(this,"unsubscribeDropTarget",void 0),Y(this,"lastConnectedHandlerId",null),Y(this,"lastConnectedDropTarget",null),Y(this,"lastConnectedDropTargetOptions",null),Y(this,"backend",void 0),this.backend=t}return eo(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();var n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(r){this.dropTargetOptionsInternal=r}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!st(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}();function ro(e,t,r){var n=r.getRegistry(),i=n.addTarget(e,t);return[i,function(){return n.removeTarget(i)}]}function no(e,t,r){var n=r.getRegistry(),i=n.addSource(e,t);return[i,function(){return n.removeSource(i)}]}var Q=typeof window<"u"?p.useLayoutEffect:p.useEffect;function Ie(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ie=function(r){return typeof r}:Ie=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ie(e)}function io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oo(e,t,r){return t&&ao(e.prototype,t),e}function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uo=function(){function e(t,r,n){io(this,e),Ve(this,"spec",void 0),Ve(this,"monitor",void 0),Ve(this,"connector",void 0),this.spec=t,this.monitor=r,this.connector=n}return oo(e,[{key:"beginDrag",value:function(){var r,n=this.spec,i=this.monitor,a=null;return Ie(n.item)==="object"?a=n.item:typeof n.item=="function"?a=n.item(i):a={},(r=a)!==null&&r!==void 0?r:null}},{key:"canDrag",value:function(){var r=this.spec,n=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(n):!0}},{key:"isDragging",value:function(r,n){var i=this.spec,a=this.monitor,o=i.isDragging;return o?o(a):n===r.getSourceId()}},{key:"endDrag",value:function(){var r=this.spec,n=this.monitor,i=this.connector,a=r.end;a&&a(n.getItem(),n),i.reconnect()}}]),e}();function so(e,t,r){var n=p.useMemo(function(){return new uo(e,t,r)},[t,r]);return p.useEffect(function(){n.spec=e},[e]),n}function ue(){var e=p.useContext(xr),t=e.dragDropManager;return y(t!=null,"Expected drag drop context"),t}function co(e){return p.useMemo(function(){var t=e.type;return y(t!=null,"spec.type must be defined"),t},[e])}function lo(e,t){return vo(e)||po(e,t)||go(e,t)||fo()}function fo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function go(e,t){if(e){if(typeof e=="string")return sr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sr(e,t)}}function sr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function po(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function vo(e){if(Array.isArray(e))return e}function ho(e,t,r){var n=ue(),i=so(e,t,r),a=co(e);Q(function(){if(a!=null){var u=no(a,i,n),s=lo(u,2),f=s[0],g=s[1];return t.receiveHandlerId(f),r.receiveHandlerId(f),g}},[n,t,r,i,a])}function yo(e){return Oo(e)||Do(e)||bo(e)||mo()}function mo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bo(e,t){if(e){if(typeof e=="string")return ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ct(e,t)}}function Do(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oo(e){if(Array.isArray(e))return ct(e)}function ct(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hr(e,t){var r=yo([]);return typeof e!="function"&&r.push(e),p.useMemo(function(){return typeof e=="function"?e():e},r)}function So(){var e=ue();return p.useMemo(function(){return new Ha(e)},[e])}function To(e,t){var r=ue(),n=p.useMemo(function(){return new Qa(r.getBackend())},[r]);return Q(function(){return n.dragSourceOptions=e||null,n.reconnect(),function(){return n.disconnectDragSource()}},[n,e]),Q(function(){return n.dragPreviewOptions=t||null,n.reconnect(),function(){return n.disconnectDragPreview()}},[n,t]),n}function wo(e,t){return _o(e)||Eo(e,t)||Io(e,t)||Co()}function Co(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Io(e,t){if(e){if(typeof e=="string")return cr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cr(e,t)}}function cr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eo(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function _o(e){if(Array.isArray(e))return e}function Po(e,t,r){var n=p.useState(function(){return t(e)}),i=wo(n,2),a=i[0],o=i[1],u=p.useCallback(function(){var s=t(e);cn(a,s)||(o(s),r&&r())},[a,e,r]);return Q(u),[a,u]}function Ao(e,t){return $o(e)||Ro(e,t)||xo(e,t)||ko()}function ko(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xo(e,t){if(e){if(typeof e=="string")return lr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lr(e,t)}}function lr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ro(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function $o(e){if(Array.isArray(e))return e}function Mo(e,t,r){var n=Po(e,t,r),i=Ao(n,2),a=i[0],o=i[1];return Q(function(){var s=e.getHandlerId();if(s!=null)return e.subscribeToStateChange(o,{handlerIds:[s]})},[e,o]),a}function zr(e,t,r){return Mo(t,e||function(){return{}},function(){return r.reconnect()})}function No(e){return p.useMemo(function(){return e.hooks.dragSource()},[e])}function jo(e){return p.useMemo(function(){return e.hooks.dragPreview()},[e])}function Fo(e,t){var r=Hr(e);y(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var n=So(),i=To(r.options,r.previewOptions);return ho(r,n,i),[zr(r.collect,n,i),No(i),jo(i)]}function Lo(e){var t=e.accept;return p.useMemo(function(){return y(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]},[t])}function Ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uo(e,t,r){return t&&zo(e.prototype,t),e}function fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qo=function(){function e(t,r){Ho(this,e),fr(this,"spec",void 0),fr(this,"monitor",void 0),this.spec=t,this.monitor=r}return Uo(e,[{key:"canDrop",value:function(){var r=this.spec,n=this.monitor;return r.canDrop?r.canDrop(n.getItem(),n):!0}},{key:"hover",value:function(){var r=this.spec,n=this.monitor;r.hover&&r.hover(n.getItem(),n)}},{key:"drop",value:function(){var r=this.spec,n=this.monitor;if(r.drop)return r.drop(n.getItem(),n)}}]),e}();function Wo(e,t){var r=p.useMemo(function(){return new qo(e,t)},[t]);return p.useEffect(function(){r.spec=e},[e]),r}function Bo(e,t){return Xo(e)||Yo(e,t)||Go(e,t)||Ko()}function Ko(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Go(e,t){if(e){if(typeof e=="string")return dr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dr(e,t)}}function dr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yo(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function Xo(e){if(Array.isArray(e))return e}function Vo(e,t,r){var n=ue(),i=Wo(e,t),a=Lo(e);Q(function(){var u=ro(a,i,n),s=Bo(u,2),f=s[0],g=s[1];return t.receiveHandlerId(f),r.receiveHandlerId(f),g},[n,t,i,r,a.map(function(o){return o.toString()}).join("|")])}function Qo(){var e=ue();return p.useMemo(function(){return new Wa(e)},[e])}function Jo(e){var t=ue(),r=p.useMemo(function(){return new to(t.getBackend())},[t]);return Q(function(){return r.dropTargetOptions=e||null,r.reconnect(),function(){return r.disconnectDropTarget()}},[e]),r}function Zo(e){return p.useMemo(function(){return e.hooks.dropTarget()},[e])}function eu(e,t){var r=Hr(e),n=Qo(),i=Jo(r.options);return Vo(r,n,i),[zr(r.collect,n,i),Zo(i)]}function Ur(e){var t=null,r=function(){return t==null&&(t=e()),t};return r}function tu(e,t){return e.filter(function(r){return r!==t})}function ru(e,t){var r=new Set,n=function(o){return r.add(o)};e.forEach(n),t.forEach(n);var i=[];return r.forEach(function(a){return i.push(a)}),i}function nu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function au(e,t,r){return t&&iu(e.prototype,t),e}function gr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ou=function(){function e(t){nu(this,e),gr(this,"entered",[]),gr(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}return au(e,[{key:"enter",value:function(r){var n=this,i=this.entered.length,a=function(u){return n.isNodeInDocument(u)&&(!u.contains||u.contains(r))};return this.entered=ru(this.entered.filter(a),[r]),i===0&&this.entered.length>0}},{key:"leave",value:function(r){var n=this.entered.length;return this.entered=tu(this.entered.filter(this.isNodeInDocument),r),n>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}(),uu=Ur(function(){return/firefox/i.test(navigator.userAgent)}),qr=Ur(function(){return!!window.safari});function su(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lu(e,t,r){return t&&cu(e.prototype,t),e}function le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pr=function(){function e(t,r){su(this,e),le(this,"xs",void 0),le(this,"ys",void 0),le(this,"c1s",void 0),le(this,"c2s",void 0),le(this,"c3s",void 0);for(var n=t.length,i=[],a=0;a<n;a++)i.push(a);i.sort(function(l,m){return t[l]<t[m]?-1:1});for(var o=[],u=[],s,f,g=0;g<n-1;g++)s=t[g+1]-t[g],f=r[g+1]-r[g],o.push(s),u.push(f/s);for(var v=[u[0]],O=0;O<o.length-1;O++){var S=u[O],E=u[O+1];if(S*E<=0)v.push(0);else{s=o[O];var R=o[O+1],b=s+R;v.push(3*b/((b+R)/S+(b+s)/E))}}v.push(u[u.length-1]);for(var I=[],x=[],P,A=0;A<v.length-1;A++){P=u[A];var H=v[A],U=1/o[A],c=H+v[A+1]-P-P;I.push((P-H-c)*U),x.push(c*U*U)}this.xs=t,this.ys=r,this.c1s=v,this.c2s=I,this.c3s=x}return lu(e,[{key:"interpolate",value:function(r){var n=this.xs,i=this.ys,a=this.c1s,o=this.c2s,u=this.c3s,s=n.length-1;if(r===n[s])return i[s];for(var f=0,g=u.length-1,v;f<=g;){v=Math.floor(.5*(f+g));var O=n[v];if(O<r)f=v+1;else if(O>r)g=v-1;else return i[v]}s=Math.max(0,g);var S=r-n[s],E=S*S;return i[s]+a[s]*S+o[s]*E+u[s]*S*E}}]),e}(),fu=1;function Wr(e){var t=e.nodeType===fu?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top,i=r.left;return{x:i,y:n}}function De(e){return{x:e.clientX,y:e.clientY}}function du(e){var t;return e.nodeName==="IMG"&&(uu()||!((t=document.documentElement)!==null&&t!==void 0&&t.contains(e)))}function gu(e,t,r,n){var i=e?t.width:r,a=e?t.height:n;return qr()&&e&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}function pu(e,t,r,n,i){var a=du(t),o=a?e:t,u=Wr(o),s={x:r.x-u.x,y:r.y-u.y},f=e.offsetWidth,g=e.offsetHeight,v=n.anchorX,O=n.anchorY,S=gu(a,t,f,g),E=S.dragPreviewWidth,R=S.dragPreviewHeight,b=function(){var c=new pr([0,.5,1],[s.y,s.y/g*R,s.y+R-g]),l=c.interpolate(O);return qr()&&a&&(l+=(window.devicePixelRatio-1)*R),l},I=function(){var c=new pr([0,.5,1],[s.x,s.x/f*E,s.x+E-f]);return c.interpolate(v)},x=i.offsetX,P=i.offsetY,A=x===0||x,H=P===0||P;return{x:A?x:I(),y:H?P:b()}}var Br="__NATIVE_FILE__",Kr="__NATIVE_URL__",Gr="__NATIVE_TEXT__",Yr="__NATIVE_HTML__";const vr=Object.freeze(Object.defineProperty({__proto__:null,FILE:Br,HTML:Yr,TEXT:Gr,URL:Kr},Symbol.toStringTag,{value:"Module"}));function Qe(e,t,r){var n=t.reduce(function(i,a){return i||e.getData(a)},"");return n??r}var ie;function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lt=(ie={},Oe(ie,Br,{exposeProperties:{files:function(t){return Array.prototype.slice.call(t.files)},items:function(t){return t.items},dataTransfer:function(t){return t}},matchesTypes:["Files"]}),Oe(ie,Yr,{exposeProperties:{html:function(t,r){return Qe(t,r,"")},dataTransfer:function(t){return t}},matchesTypes:["Html","text/html"]}),Oe(ie,Kr,{exposeProperties:{urls:function(t,r){return Qe(t,r,"").split(`
`)},dataTransfer:function(t){return t}},matchesTypes:["Url","text/uri-list"]}),Oe(ie,Gr,{exposeProperties:{text:function(t,r){return Qe(t,r,"")},dataTransfer:function(t){return t}},matchesTypes:["Text","text/plain"]}),ie);function vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yu(e,t,r){return t&&hu(e.prototype,t),e}function hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mu=function(){function e(t){vu(this,e),hr(this,"item",void 0),hr(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}return yu(e,[{key:"initializeExposedProperties",value:function(){var r=this;Object.keys(this.config.exposeProperties).forEach(function(n){Object.defineProperty(r.item,n,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(n,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(r){var n=this;if(r){var i={};Object.keys(this.config.exposeProperties).forEach(function(a){i[a]={value:n.config.exposeProperties[a](r,n.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(r,n){return n===r.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function bu(e,t){var r=new mu(lt[e]);return r.loadDataTransfer(t),r}function Je(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(lt).filter(function(r){var n=lt[r].matchesTypes;return n.some(function(i){return t.indexOf(i)>-1})})[0]||null}function Du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ou(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Su(e,t,r){return t&&Ou(e.prototype,t),e}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tu=function(){function e(t,r){Du(this,e),Ze(this,"ownerDocument",null),Ze(this,"globalContext",void 0),Ze(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=r}return Su(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}},{key:"document",get:function(){var r;return(r=this.globalContext)!==null&&r!==void 0&&r.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}}]),e}();function yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yr(Object(r),!0).forEach(function(n){D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Iu(e,t,r){return t&&Cu(e.prototype,t),e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Eu=function(){function e(t,r,n){var i=this;wu(this,e),D(this,"options",void 0),D(this,"actions",void 0),D(this,"monitor",void 0),D(this,"registry",void 0),D(this,"enterLeaveCounter",void 0),D(this,"sourcePreviewNodes",new Map),D(this,"sourcePreviewNodeOptions",new Map),D(this,"sourceNodes",new Map),D(this,"sourceNodeOptions",new Map),D(this,"dragStartSourceIds",null),D(this,"dropTargetIds",[]),D(this,"dragEnterTargetIds",[]),D(this,"currentNativeSource",null),D(this,"currentNativeHandle",null),D(this,"currentDragSourceNode",null),D(this,"altKeyPressed",!1),D(this,"mouseMoveTimeoutTimer",null),D(this,"asyncEndDragFrameId",null),D(this,"dragOverTargetIds",null),D(this,"lastClientOffset",null),D(this,"hoverRafId",null),D(this,"getSourceClientOffset",function(a){var o=i.sourceNodes.get(a);return o&&Wr(o)||null}),D(this,"endDragNativeItem",function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),D(this,"isNodeInDocument",function(a){return!!(a&&i.document&&i.document.body&&i.document.body.contains(a))}),D(this,"endDragIfSourceWasRemovedFromDOM",function(){var a=i.currentDragSourceNode;a==null||i.isNodeInDocument(a)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),D(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),D(this,"handleTopDragStart",function(a){if(!a.defaultPrevented){var o=i.dragStartSourceIds;i.dragStartSourceIds=null;var u=De(a);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:u});var s=a.dataTransfer,f=Je(s);if(i.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){var g=i.monitor.getSourceId(),v=i.sourceNodes.get(g),O=i.sourcePreviewNodes.get(g)||v;if(O){var S=i.getCurrentSourcePreviewNodeOptions(),E=S.anchorX,R=S.anchorY,b=S.offsetX,I=S.offsetY,x={anchorX:E,anchorY:R},P={offsetX:b,offsetY:I},A=pu(v,O,u,x,P);s.setDragImage(O,A.x,A.y)}}try{s==null||s.setData("application/json",{})}catch{}i.setCurrentDragSourceNode(a.target);var H=i.getCurrentSourcePreviewNodeOptions(),U=H.captureDraggingState;U?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(f)i.beginDragNativeItem(f);else{if(s&&!s.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}}}),D(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),D(this,"handleTopDragEnterCapture",function(a){i.dragEnterTargetIds=[];var o=i.enterLeaveCounter.enter(a.target);if(!(!o||i.monitor.isDragging())){var u=a.dataTransfer,s=Je(u);s&&i.beginDragNativeItem(s,u)}}),D(this,"handleTopDragEnter",function(a){var o=i.dragEnterTargetIds;if(i.dragEnterTargetIds=[],!!i.monitor.isDragging()){i.altKeyPressed=a.altKey,o.length>0&&i.actions.hover(o,{clientOffset:De(a)});var u=o.some(function(s){return i.monitor.canDropOnTarget(s)});u&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=i.getCurrentDropEffect()))}}),D(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),D(this,"handleTopDragOver",function(a){var o=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}i.altKeyPressed=a.altKey,i.lastClientOffset=De(a),i.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(o||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}));var u=(o||[]).some(function(s){return i.monitor.canDropOnTarget(s)});u?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))}),D(this,"handleTopDragLeaveCapture",function(a){i.isDraggingNativeItem()&&a.preventDefault();var o=i.enterLeaveCounter.leave(a.target);o&&i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),D(this,"handleTopDropCapture",function(a){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var o;a.preventDefault(),(o=i.currentNativeSource)===null||o===void 0||o.loadDataTransfer(a.dataTransfer)}else Je(a.dataTransfer)&&a.preventDefault();i.enterLeaveCounter.reset()}),D(this,"handleTopDrop",function(a){var o=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(o,{clientOffset:De(a)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),D(this,"handleSelectStart",function(a){var o=a.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(a.preventDefault(),o.dragDrop()))}),this.options=new Tu(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new ou(this.isNodeInDocument)}return Iu(e,[{key:"profile",value:function(){var r,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}},{key:"teardown",value:function(){var r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(r,n,i){var a=this;return this.sourcePreviewNodeOptions.set(r,i),this.sourcePreviewNodes.set(r,n),function(){a.sourcePreviewNodes.delete(r),a.sourcePreviewNodeOptions.delete(r)}}},{key:"connectDragSource",value:function(r,n,i){var a=this;this.sourceNodes.set(r,n),this.sourceNodeOptions.set(r,i);var o=function(f){return a.handleDragStart(f,r)},u=function(f){return a.handleSelectStart(f)};return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",u),function(){a.sourceNodes.delete(r),a.sourceNodeOptions.delete(r),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",u),n.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(r,n){var i=this,a=function(f){return i.handleDragEnter(f,r)},o=function(f){return i.handleDragOver(f,r)},u=function(f){return i.handleDrop(f,r)};return n.addEventListener("dragenter",a),n.addEventListener("dragover",o),n.addEventListener("drop",u),function(){n.removeEventListener("dragenter",a),n.removeEventListener("dragover",o),n.removeEventListener("drop",u)}}},{key:"addEventListeners",value:function(r){r.addEventListener&&(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(r){r.removeEventListener&&(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(r);return mr({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(r);return mr({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}},{key:"isDraggingNativeItem",value:function(){var r=this.monitor.getItemType();return Object.keys(vr).some(function(n){return vr[n]===r})}},{key:"beginDragNativeItem",value:function(r,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=bu(r,n),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(r){var n=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var a;return(a=n.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",n.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(r,n){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}},{key:"handleDragEnter",value:function(r,n){this.dragEnterTargetIds.unshift(n)}},{key:"handleDragOver",value:function(r,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}},{key:"handleDrop",value:function(r,n){this.dropTargetIds.unshift(n)}}]),e}(),_u=function(t,r,n){return new Eu(t,r,n)},ft={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(c){return typeof c=="object"&&!("toString"in c)?Object.prototype.toString.call(c).slice(8,-1):c}var n=typeof process=="object"&&!0;function i(c,l){if(!c)throw n?new Error("Invariant failed"):new Error(l())}t.invariant=i;var a=Object.prototype.hasOwnProperty,o=Array.prototype.splice,u=Object.prototype.toString;function s(c){return u.call(c).slice(8,-1)}var f=Object.assign||function(c,l){return g(l).forEach(function(m){a.call(l,m)&&(c[m]=l[m])}),c},g=typeof Object.getOwnPropertySymbols=="function"?function(c){return Object.keys(c).concat(Object.getOwnPropertySymbols(c))}:function(c){return Object.keys(c)};function v(c){return Array.isArray(c)?f(c.constructor(c.length),c):s(c)==="Map"?new Map(c):s(c)==="Set"?new Set(c):c&&typeof c=="object"?f(Object.create(Object.getPrototypeOf(c)),c):c}var O=function(){function c(){this.commands=f({},S),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(l,m){return l===m},this.update.newContext=function(){return new c().update}}return Object.defineProperty(c.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(l){this.update.isEquals=l},enumerable:!0,configurable:!0}),c.prototype.extend=function(l,m){this.commands[l]=m},c.prototype.update=function(l,m){var T=this,w=typeof m=="function"?{$apply:m}:m;Array.isArray(l)&&Array.isArray(w)||i(!Array.isArray(w),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),i(typeof w=="object"&&w!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(T.commands).join(", ")+".")});var $=l;return g(w).forEach(function(M){if(a.call(T.commands,M)){var j=l===$;$=T.commands[M](w[M],$,w,l),j&&T.isEquals($,l)&&($=l)}else{var F=s(l)==="Map"?T.update(l.get(M),w[M]):T.update(l[M],w[M]),Ne=s($)==="Map"?$.get(M):$[M];(!T.isEquals(F,Ne)||typeof F>"u"&&!a.call(l,M))&&($===l&&($=v(l)),s($)==="Map"?$.set(M,F):$[M]=F)}}),$},c}();t.Context=O;var S={$push:function(c,l,m){return R(l,m,"$push"),c.length?l.concat(c):l},$unshift:function(c,l,m){return R(l,m,"$unshift"),c.length?c.concat(l):l},$splice:function(c,l,m,T){return I(l,m),c.forEach(function(w){x(w),l===T&&w.length&&(l=v(T)),o.apply(l,w)}),l},$set:function(c,l,m){return A(m),c},$toggle:function(c,l){b(c,"$toggle");var m=c.length?v(l):l;return c.forEach(function(T){m[T]=!l[T]}),m},$unset:function(c,l,m,T){return b(c,"$unset"),c.forEach(function(w){Object.hasOwnProperty.call(l,w)&&(l===T&&(l=v(T)),delete l[w])}),l},$add:function(c,l,m,T){return U(l,"$add"),b(c,"$add"),s(l)==="Map"?c.forEach(function(w){var $=w[0],M=w[1];l===T&&l.get($)!==M&&(l=v(T)),l.set($,M)}):c.forEach(function(w){l===T&&!l.has(w)&&(l=v(T)),l.add(w)}),l},$remove:function(c,l,m,T){return U(l,"$remove"),b(c,"$remove"),c.forEach(function(w){l===T&&l.has(w)&&(l=v(T)),l.delete(w)}),l},$merge:function(c,l,m,T){return H(l,c),g(c).forEach(function(w){c[w]!==l[w]&&(l===T&&(l=v(T)),l[w]=c[w])}),l},$apply:function(c,l){return P(c),c(l)}},E=new O;t.isEquals=E.update.isEquals,t.extend=E.extend,t.default=E.update,t.default.default=e.exports=f(t.default,t);function R(c,l,m){i(Array.isArray(c),function(){return"update(): expected target of "+r(m)+" to be an array; got "+r(c)+"."}),b(l[m],m)}function b(c,l){i(Array.isArray(c),function(){return"update(): expected spec of "+r(l)+" to be an array; got "+r(c)+". Did you forget to wrap your parameter in an array?"})}function I(c,l){i(Array.isArray(c),function(){return"Expected $splice target to be an array; got "+r(c)}),x(l.$splice)}function x(c){i(Array.isArray(c),function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(c)+". Did you forget to wrap your parameters in an array?"})}function P(c){i(typeof c=="function",function(){return"update(): expected spec of $apply to be a function; got "+r(c)+"."})}function A(c){i(Object.keys(c).length===1,function(){return"Cannot have more than one key in an object with $set"})}function H(c,l){i(l&&typeof l=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+r(l)}),i(c&&typeof c=="object",function(){return"update(): $merge expects a target of type 'object'; got "+r(c)})}function U(c,l){var m=s(c);i(m==="Map"||m==="Set",function(){return"update(): "+r(l)+" expects a target of type Set or Map; got "+r(m)})}})(ft,ft.exports);var Pu=ft.exports;const Au=sn(Pu),br={CARD:"card"},ku=({id:e,image:t,index:r,moveCard:n,handleRemoveImage:i})=>{const a=p.useRef(null),[{handlerId:o},u]=eu({accept:br.CARD,collect(f){return{handlerId:f.getHandlerId()}},hover(f,g){var I;if(!a.current)return;const v=f.index,O=r;if(v===O)return;const S=(I=a.current)==null?void 0:I.getBoundingClientRect(),E=(S.bottom-S.top)/2,b=g.getClientOffset().y-S.top;v<O&&b<E||v>O&&b>E||(n(v,O),f.index=O)}}),[{},s]=Fo({type:br.CARD,item:()=>({id:e,index:r}),collect:f=>({isDragging:f.isDragging()})});return s(u(a)),C.jsx("div",{ref:a,"data-handler-id":o,children:C.jsxs("div",{className:"relative",children:[C.jsx("img",{className:"inline-flex border rounded-md border-gray-100 dark:border-gray-600 w-24 max-h-24 p-2 m-2",src:t,alt:"product"}),r===0&&C.jsx("p",{className:"text-xs absolute py-1 w-full bottom-0 inset-x-0 bg-blue-500 rounded-full text-white text-center ",children:"Default Image"}),C.jsx("button",{type:"button",className:"absolute top-0 right-0 text-red-500 focus:outline-none",onClick:()=>i(t),children:C.jsx(Dr,{})})]})})},xu=({setImageUrl:e,imageUrl:t,handleRemoveImage:r})=>{const n=p.useCallback((a,o)=>{e(u=>Au(u,{$splice:[[a,1],[o,0,u[a]]]}))},[e]),i=p.useCallback((a,o)=>C.jsx(ku,{index:o,id:a.id,text:a.text,moveCard:n,image:a,handleRemoveImage:r},o+1),[n,r]);return C.jsx(C.Fragment,{children:t.map((a,o)=>i(a,o))})},zu=({setImageUrl:e,imageUrl:t,product:r,folder:n})=>{const[i,a]=p.useState([]),[o,u]=p.useState(!1),[s,f]=p.useState(""),{data:g}=on(nn.getGlobalSetting),{getRootProps:v,getInputProps:O,fileRejections:S}=kr({accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},multiple:!!r,maxSize:5e5,maxFiles:(g==null?void 0:g.number_of_image_per_product)||2,onDrop:b=>{a(b.map(I=>Object.assign(I,{preview:URL.createObjectURL(I)})))}});p.useEffect(()=>{S&&S.map(({file:b,errors:I})=>C.jsxs("li",{children:[b.path," - ",b.size," bytes",C.jsx("ul",{children:I.map(x=>C.jsx("li",{children:x.code==="too-many-files"?re(`Maximum ${g==null?void 0:g.number_of_image_per_product} Image Can be Upload!`):re(x.message)},x.code))})]},b.path)),i&&i.forEach(b=>{if(r&&(t==null?void 0:t.length)+(i==null?void 0:i.length)>(g==null?void 0:g.number_of_image_per_product))return re(`Maximum ${g==null?void 0:g.number_of_image_per_product} Image Can be Upload!`);if(u(!0),f("Uploading...."),r&&(t==null?void 0:t.find(H=>H==="https://api.cloudinary.com/v1_1/your_cloudinary_cloud_name/image/upload")))return u(!1);const I=b.name.replaceAll(/\s/g,""),x=I==null?void 0:I.substring(0,I.lastIndexOf(".")),P=new FormData;P.append("file",b),P.append("upload_preset","your_cloudinary_upload_preset"),P.append("cloud_name","your_cloudinary_cloud_name"),P.append("folder",n),P.append("public_id",x),rn({url:"https://api.cloudinary.com/v1_1/your_cloudinary_cloud_name/image/upload",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:P}).then(A=>{un("Image Uploaded successfully!"),u(!1),e(r?H=>[...H,A.data.secure_url]:A.data.secure_url)}).catch(A=>{console.error("err",A),re(A.Message),u(!1)})})},[i]);const E=i.map(b=>C.jsx("div",{children:C.jsx("div",{children:C.jsx("img",{className:"inline-flex border-2 border-gray-100 w-24 max-h-24",src:b.preview,alt:b.name})})},b.name));p.useEffect(()=>()=>{i.forEach(b=>URL.revokeObjectURL(b.preview))},[i]);const R=async b=>{try{if(u(!1),re("Image delete successfully!"),r){const I=t==null?void 0:t.filter(x=>x!==b);e(I)}else e("")}catch(I){console.error("err",I),re(I.Message),u(!1)}};return C.jsxs("div",{className:"w-full text-center",children:[C.jsxs("div",{className:"border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md cursor-pointer px-6 pt-5 pb-6",...v(),children:[C.jsx("input",{...O()}),C.jsx("span",{className:"mx-auto flex justify-center",children:C.jsx(an,{className:"text-3xl text-emerald-500"})}),C.jsx("p",{className:"text-sm mt-2",children:At("DragYourImage")}),C.jsx("em",{className:"text-xs text-gray-400",children:At("imageFormat")})]}),C.jsx("div",{className:"text-emerald-500",children:o&&s}),C.jsx("aside",{className:"flex flex-row flex-wrap mt-4",children:r?C.jsx($a,{backend:_u,children:C.jsx(xu,{setImageUrl:e,imageUrl:t,handleRemoveImage:R})}):!r&&t?C.jsxs("div",{className:"relative",children:[" ",C.jsx("img",{className:"inline-flex border rounded-md border-gray-100 dark:border-gray-600 w-24 max-h-24 p-2",src:t,alt:"product"}),C.jsx("button",{type:"button",className:"absolute top-0 right-0 text-red-500 focus:outline-none",onClick:()=>R(t),children:C.jsx(Dr,{})})]}):E})]})};export{zu as U};
